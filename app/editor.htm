
<img src="markdown.svg" />Markdown view
<img src="bookmark.svg" />Bookmark
<img src="sun.svg" /><img src="moon.svg" />Light/Dark view

include project view...
<img src="tree.jpg" />
<img src="branch.jpg" />
<img src="leaf.jpg" />
also include, cut.svg, copy.svg, paste.svg, trash-alt.svg, share.svg, share-alt-square.svg, undo-alt.svg, redo-alt.svg

<img src="archive.svg" />
<script>
    function getCaretCharacterOffsetWithin(element) {
        var caretOffset = 0;
        var doc = element.ownerDocument || element.document;
        var win = doc.defaultView || doc.parentWindow;
        var sel;
        if (typeof win.getSelection != "undefined") {
            sel = win.getSelection();
            if (sel.rangeCount > 0) {
                var range = win.getSelection().getRangeAt(0);
                var preCaretRange = range.cloneRange();
                preCaretRange.selectNodeContents(element);
                preCaretRange.setEnd(range.endContainer, range.endOffset);
                caretOffset = preCaretRange.toString().length;
            }
        } else if ( (sel = doc.selection) && sel.type != "Control") {
            var textRange = sel.createRange();
            var preCaretTextRange = doc.body.createTextRange();
            preCaretTextRange.moveToElementText(element);
            preCaretTextRange.setEndPoint("EndToEnd", textRange);
            caretOffset = preCaretTextRange.text.length;
        }
        return caretOffset;
    }

    function getSelectionText() {
        var text = "";
        if (window.getSelection) {
            text = window.getSelection().toString();
        } else if (document.selection && document.selection.type != "Control") {
            text = document.selection.createRange().text;
        }
        return text;
    }</script>

<div id="content" oncontextmenu="showContext(); return false;" contenteditable="true">
    lorem ipsum dolor lorem ipsum dolorlorem ipsum dolor
    <br/>
    <span style="font-weight:bold">This is a b<span style="color:blue">old <span style="font-style:italic">line</span>that continues </span> on</span> and on</div>

<script>
    var content = document.getElementById("content");
    
    function showContext() {
        changeStyle(getSelectionText()); }
            
    function changeStyle(selection) {       
        var position = getCaretCharacterOffsetWithin(content) - selection.length;

        var html = content.innerHTML;
        var first = html.substring(0, position);
        var last = html.substring(position, html.length);

        if (selection == "")
            content.innerHTML = first + "new tag" + last;
        else 
	    content.innerHTML = first + last.replace(selection, "<span style='font-weight:bold'>" + selection + "</span>"); }</script>

<!-- htm office...

design context menu with icons and easy fill/slide inputs...
...updates style and inserts tag
......insert span, and apply end spans whenever a preset end span is found

...sheet/chart/report/slide, adjust align/justify/indent, spacing, symbol, page number
...light/dark, TOC, find/replace, word count, print preview, save/export (HTM), custom (screenwriter), comments on/off
...rulers, selectors

HTML constructs with CSS (use page vs. text features)

font-family: Roboto
font-size: 12px
font-style: italic
font-weight: bold
text-decoration: underline
text-decoration: line-through

vertical-align: super (with reduced size)
vertical-align: sub (with reduced size)

color: blue
background-color: gray (both page and highlight)

<a href="">selected text</a>  ...anchor?

<img src="" />

height:
width:
<div> for header/footer

<hr/>
<br/>

<p style="page-break-before: always">

@media print{
  footer {page-break-after: always;}
}

<ul style="list-style-type:circle">
<li>Coffee</li>
<li>Tea</li>
<li>Milk</li>
</ul>

<ol>
  <li>Coffee</li>
  <li>Tea</li>
  <li>Milk</li>
</ol>

specialized tip/note/important/etc. <div>
comment <span>

<code><pre>

margin:

review tinymce for missed features

Document editor (html office) (text, spreadsheet with layers, image, data, code), resume maker/document/reference editor
code signatures, "perfect" font, use recipe example, upload new forms

inlcude folder/file explorer
function createTree()
{
    <div class="parent"
    <div class="folder parent/child"><div class="file"></div></div>
    parent folder to parent/child folder[...] or child file
}
folder (book), file (paper)

use database for (stamps)
...email
...messages
...tags
...user/account

import os
os.listdir("path")

To open a text file, use:
fh = open("hello.txt", "r")

To read a text file, use:
fh = open("hello.txt","r")
print fh.read()

To read one line at a time, use:
fh = open("hello".txt", "r")
print fh.readline()

To read a list of lines use:
fh = open("hello.txt.", "r")
print fh.readlines()

To write to a file, use:
fh = open("hello.txt","w")
write("Hello World")
fh.close()

To write to a file, use:
fh = open("hello.txt", "w")
lines_of_text = ["a line of text", "another line of text", "a third line"]
fh.writelines(lines_of_text)
fh.close()

import os

path = "c:\\python25"

i = 0
for (path, dirs, files) in os.walk(path):
    print path
    print dirs
    print files
    print "----"
    i += 1
    if i >= 4:
        break


add drag and drop?

// Check for the various File API support.
if (window.File && window.FileReader && window.FileList && window.Blob) {
  // Great success! All the File APIs are supported.
} else {
  alert('The File APIs are not fully supported in this browser.');
}
-->

<input type="file" id="files" name="files[]" multiple />
<output id="list"></output>

<script>
  function handleFileSelect(evt) {
    var files = evt.target.files; // FileList object

    // files is a FileList of File objects. List some properties.
    var output = [];
    for (var i = 0, f; f = files[i]; i++) {
      output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
                  f.size, ' bytes, last modified: ',
                  f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a',
                  '</li>');
    }
    document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
  }

  document.getElementById('files').addEventListener('change', handleFileSelect, false);
</script>

<div id="drop_zone">Drop files here</div>
<output id="list"></output>

<script>
  function handleFileSelect(evt) {
    evt.stopPropagation();
    evt.preventDefault();

    var files = evt.dataTransfer.files; // FileList object.

    // files is a FileList of File objects. List some properties.
    var output = [];
    for (var i = 0, f; f = files[i]; i++) {
      output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
                  f.size, ' bytes, last modified: ',
                  f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a',
                  '</li>');
    }
    document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
  }

  function handleDragOver(evt) {
    evt.stopPropagation();
    evt.preventDefault();
    evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
  }

  // Setup the dnd listeners.
  var dropZone = document.getElementById('drop_zone');
  dropZone.addEventListener('dragover', handleDragOver, false);
  dropZone.addEventListener('drop', handleFileSelect, false);
</script>


<style>
  .thumb {
    height: 75px;
    border: 1px solid #000;
    margin: 10px 5px 0 0;
  }
</style>

<input type="file" id="files2" name="files2[]" multiple />
<output id="list2"></output>

<script>
  function handleFileSelect(evt) {
    var files = evt.target.files; // FileList object

    // Loop through the FileList and render image files as thumbnails.
    for (var i = 0, f; f = files[i]; i++) {

      // Only process image files.
      if (!f.type.match('image.*')) {
        continue;
      }

      var reader = new FileReader();

      // Closure to capture the file information.
      reader.onload = (function(theFile) {
        return function(e) {
          // Render thumbnail.
          var span = document.createElement('span');
          span.innerHTML = ['<img class="thumb" src="', e.target.result,
                            '" title="', escape(theFile.name), '"/>'].join('');
          document.getElementById('list2').insertBefore(span, null);
        };
      })(f);

      // Read in the image file as a data URL.
      reader.readAsDataURL(f);
    }
  }

  document.getElementById('files2').addEventListener('change', handleFileSelect, false);
</script>

...larg files 
var blob = file.slice(startingByte, endindByte);
reader.readAsBinaryString(blob);

<style>
  #byte_content {
    margin: 5px 0;
    max-height: 100px;
    overflow-y: auto;
    overflow-x: hidden;
  }
  #byte_range { margin-top: 5px; }
</style>

<input type="file" id="files3" name="file3" /> Read bytes: 
<span class="readBytesButtons">
  <button data-startbyte="0" data-endbyte="4">1-5</button>
  <button data-startbyte="5" data-endbyte="14">6-15</button>
  <button data-startbyte="6" data-endbyte="7">7-8</button>
  <button>entire file</button>
</span>
<div id="byte_range"></div>
<div id="byte_content"></div>

<script>
  function readBlob(opt_startByte, opt_stopByte) {

    var files = document.getElementById('files3').files;
    if (!files.length) {
      alert('Please select a file!');
      return;
    }

    var file = files[0];
    var start = parseInt(opt_startByte) || 0;
    var stop = parseInt(opt_stopByte) || file.size - 1;

    var reader = new FileReader();

    // If we use onloadend, we need to check the readyState.
    reader.onloadend = function(evt) {
      if (evt.target.readyState == FileReader.DONE) { // DONE == 2
        document.getElementById('byte_content').textContent = evt.target.result;
        document.getElementById('byte_range').textContent = 
            ['Read bytes: ', start + 1, ' - ', stop + 1,
             ' of ', file.size, ' byte file'].join('');
      }
    };

    var blob = file.slice(start, stop + 1);
    reader.readAsBinaryString(blob);
  }
  
  document.querySelector('.readBytesButtons').addEventListener('click', function(evt) {
    if (evt.target.tagName.toLowerCase() == 'button') {
      var startByte = evt.target.getAttribute('data-startbyte');
      var endByte = evt.target.getAttribute('data-endbyte');
      readBlob(startByte, endByte);
    }
  }, false);
</script>


monitor progress... 

<style>
  #progress_bar {
    margin: 10px 0;
    padding: 3px;
    border: 1px solid #000;
    font-size: 14px;
    clear: both;
    opacity: 0;
    -moz-transition: opacity 1s linear;
    -o-transition: opacity 1s linear;
    -webkit-transition: opacity 1s linear;
  }
  #progress_bar.loading {
    opacity: 1.0;
  }
  #progress_bar .percent {
    background-color: #99ccff;
    height: auto;
    width: 0;
  }
</style>

<input type="file" id="files4" name="file4" />
<button onclick="abortRead();">Cancel read</button>
<div id="progress_bar"><div class="percent">0%</div></div>

<script>
  var reader;
  var progress = document.querySelector('.percent');

  function abortRead() {
    reader.abort();
  }

  function errorHandler(evt) {
    alert(evt);
    //switch(evt.target.error.code) {
      //case evt.target.error.NOT_FOUND_ERR:
        //alert('File Not Found!');
        //break;
      //case evt.target.error.NOT_READABLE_ERR:
        //alert('File is not readable');
        //break;
      //case evt.target.error.ABORT_ERR:
       // break; // noop
      //default:
       // alert('An error occurred reading this file.');
    //};
  }

  function updateProgress(evt) {
    // evt is an ProgressEvent.
    if (evt.lengthComputable) {
      var percentLoaded = Math.round((evt.loaded / evt.total) * 100);
      // Increase the progress bar length.
      if (percentLoaded < 100) {
        progress.style.width = percentLoaded + '%';
        progress.textContent = percentLoaded + '%';
      }
    }
  }

  function handleFileSelect(evt) {
    // Reset progress indicator on new file selection.
    progress.style.width = '0%';
    progress.textContent = '0%';

    reader = new FileReader();
    //reader.onerror = errorHandler;
    reader.onprogress = updateProgress;
    reader.onabort = function(e) {
      alert('File read cancelled');
    };
    reader.onloadstart = function(e) {
      document.getElementById('progress_bar').className = 'loading';
    };
    reader.onload = function(e) {
      // Ensure that the progress bar displays 100% at the end.
      progress.style.width = '100%';
      progress.textContent = '100%';
      setTimeout("document.getElementById('progress_bar').className='';", 2000);
    }

    // Read in the image file as a binary string.
    reader.readAsBinaryString(evt.target.files[0]);
  }

  document.getElementById('files4').addEventListener('change', handleFileSelect, false);
</script>


directory contents...

<ul id="filelist"></ul>

<script>
function toArray(list) {
  return Array.prototype.slice.call(list || [], 0);
}

function listResults(entries) {
  // Document fragments can improve performance since they're only appended
  // to the DOM once. Only one browser reflow occurs.
  var fragment = document.createDocumentFragment();

  entries.forEach(function(entry, i) {
    var img = entry.isDirectory ? '<img src="folder-icon.gif">' :
                                  '<img src="file-icon.gif">';
    var li = document.createElement('li');
    li.innerHTML = [img, '<span>', entry.name, '</span>'].join('');
    fragment.appendChild(li);
  });

  document.querySelector('#filelist').appendChild(fragment);
}

function onInitFs(fs) {
  alert('directory read...');
  //let items = event.dataTransfer.items;
  //FileSystemDirectoryEntry.getDirectory([path]
  fs.root.getDirectory('C:\Users\v-masebo\Desktop\local', {}, function(dirEntry){
  var dirReader = dirEntry.createReader();
  dirReader.readEntries(function(entries) {
    for(var i = 0; i < entries.length; i++) {
      var entry = entries[i];
      if (entry.isDirectory){
        console.log('Directory: ' + entry.fullPath);
      }
      else if (entry.isFile){
        console.log('File: ' + entry.fullPath);
      }
    }

  }, errorHandler);
}, errorHandler);

  //var dirReader = fs.root.createReader();
  //var entries = [];

  // Call the reader.readEntries() until no more results are returned.
  //var readEntries = function() {
    // dirReader.readEntries (function(results) {
      //if (!results.length) {
        //listResults(entries.sort());
      //} else {
        //entries = entries.concat(toArray(results));
        //readEntries();
      //}
    //}, errorHandler);
  //};

  //readEntries(); // Start reading dirs.

}



//window.requestFileSystem(window.TEMPORARY, 1024*1024, onInitFs, errorHandler);

//window.webkitRequestFileSystem(window.TEMPORARY, 1024*1024, onInitFs, errorHandler);

//window.webkitStorageInfo.requestQuota(PERSISTENT, 1024*1024, 
    //function(grantedBytes) {
        //window.requestFileSystem(window.PERSISTENT, grantedBytes, onInitFs, errorHandler);
      //  window.webkitRequestFileSystem(window.TEMPORARY, 1024*1024, onInitFs, errorHandler);
    //}, 
  //  errorHandler
//);


//remove directory... 
function remove() {
window.requestFileSystem(window.TEMPORARY, 1024*1024, function(fs) {
  fs.root.getDirectory('music/genres/jazz', {}, function(dirEntry) {

    dirEntry.remove(function() {
      console.log('Directory removed.');
    }, errorHandler);

  }, errorHandler);
}, errorHandler); }

//copy, move, rename...
function copy(cwd, src, dest) {
  cwd.getFile(src, {}, function(fileEntry) {

    cwd.getDirectory(dest, {}, function(dirEntry) {
      fileEntry.copyTo(dirEntry);
    }, errorHandler);

  }, errorHandler);
}

function copy() {
window.requestFileSystem(window.TEMPORARY, 1024*1024, function(fs) {
  copy(fs.root, '/folder1/me.png', 'folder2/mypics/');
}, errorHandler);  }

function rename(cwd, src, newName) {
  cwd.getFile(src, {}, function(fileEntry) {
    fileEntry.moveTo(cwd, newName);
  }, errorHandler);
}

function rename() {
window.requestFileSystem(window.TEMPORARY, 1024*1024, function(fs) {
  rename(fs.root, 'me.png', 'you.png');
}, errorHandler);
//The following example moves "me.png" (located in the root directory) to a folder named "newfolder".
}

function move(src, dirName) {
  fs.root.getFile(src, {}, function(fileEntry) {

    fs.root.getDirectory(dirName, {}, function(dirEntry) {
      fileEntry.moveTo(dirEntry);
    }, errorHandler);

  }, errorHandler);
}

function move() {
window.requestFileSystem(window.TEMPORARY, 1024*1024, function(fs) {
  move('/me.png', 'newfolder/');
}, errorHandler); }
</script>



<p>New work...</p>
<ul id="filelist2"></ul>

<script>
  alert('loaded');
function toArray(list) {
  return Array.prototype.slice.call(list || [], 0);
}

function listResults2(entries) {
  // Document fragments can improve performance since they're only appended
  // to the DOM once. Only one browser reflow occurs.
  var fragment = document.createDocumentFragment();
alert('list results');
alert(entries.length);
  entries.forEach(function(entry, i) {
    var img = entry.isDirectory ? '<img src="folder-icon.gif">' :
                                  '<img src="file-icon.gif">';
    var li = document.createElement('li');
    li.innerHTML = [img, '<span>', entry.name, '</span>'].join('');
    fragment.appendChild(li);
  });

  document.querySelector('#filelist2').appendChild(fragment);
}

function onInitFs2(fs) {
alert(fs.root.name + ' ' + fs.root.fullPath);
fs.root.fullPath = "c:\Users\v-masebo\Desktop";
  var dirReader = fs.root.createReader();
  var entries = [];

  // Call the reader.readEntries() until no more results are returned.
  var readEntries2 = function() {
     dirReader.readEntries (function(results) {
       alert(results.length);
      if (!results.length) {
        listResults2(entries.sort());
      } else {
        entries = entries.concat(toArray(results));
        readEntries();
      }
    }, errorHandler2);
  };

  readEntries2(); // Start reading dirs.

}

  function errorHandler2(evt) {
    alert('error' + evt);
  }

window.webkitStorageInfo.requestQuota(PERSISTENT, 1024*1024, 
    function(grantedBytes) {
        //window.requestFileSystem(window.PERSISTENT, grantedBytes, onInitFs, errorHandler);
        window.webkitRequestFileSystem(window.PERSISTENT, 1024*1024, onInitFs2, errorHandler2);
    }, 
    errorHandler2
);
</script>

<style>
#dropzone {
  text-align: center;
  width: 300px;
  height: 100px;
  margin: 10px;
  padding: 10px;
  border: 4px dashed red;
  border-radius: 10px;
}

#boxtitle {
  display: table-cell;
  vertical-align: middle;
  text-align: center;
  color: black;
  font: bold 2em "Arial", sans-serif;
  width: 300px;
  height: 100px;
}

body {
  font: 14px "Arial", sans-serif;
}
</style>
<p>Drag files and/or directories to the box below!</p>

<div id="dropzone">
  <div id="boxtitle">
    Drop Files Here
  </div>
</div>

<h2>Directory tree:</h2>

<ul id="listing">
</ul>

<script>

let dropzone = document.getElementById("dropzone");
let listing = document.getElementById("listing");
//handle files dropped in
function scanFiles(item, container) {
  let elem = document.createElement("li");
  elem.innerHTML = item.name;
  container.appendChild(elem);
 
 if (item.isDirectory) {
    let directoryReader = item.createReader();
    let directoryContainer = document.createElement("ul");
    container.appendChild(directoryContainer);
    directoryReader.readEntries(function(entries) {
        entries.forEach(function(entry) {
          scanFiles(entry, directoryContainer);
      });
    });
  }
}
//prevent default dragover behavior
dropzone.addEventListener("dragover", function(event) {
    event.preventDefault();
}, false);
//handle the drop event
dropzone.addEventListener("drop", function(event) {
  let items = event.dataTransfer.items;
  alert(items[0].webkitGetAsEntry());
  event.preventDefault();
  listing.innerHTML = "";
 
  for (let i=0; i<items.length; i++) {
    let item = items[i].webkitGetAsEntry();
    
    if (item) {
        scanFiles(item, listing);
    }
  }
}, false);

</script>
more attempts...
<input type="file" id="holder" />
<script>

holder.ondrop = function (e) {
    this.className = '';
    e.preventDefault();
    alert(e.dataTransfer.files);
    let items = e.dataTransfer.files;
  alert(items.webkitGetAsEntry());
  event.preventDefault();
  listing.innerHTML = "";
 
  //for (let i=0; i<items.length; i++) {
    let item = items.webkitGetAsEntry();
    
    if (item) {
        scanFiles(item, listing);
    }
  }
    //readfiles(e.dataTransfer.files);
//}

function simulateDrop() {
    var fileInput = document.getElementById('fileInput4'),
        file = createFile();
        //file = fileInput.files[0];        
    holder.ondrop({ 
        dataTransfer: { files: [ file ] }, 
        preventDefault: function () {} 
    });
}


include tags view...


<!--<img class="icon" src="icon/palette.svg" onclick="changeColor(this);" />-->

<script>
    var oldColor;
    var newColor;

    function changeColor(caller) { return PICKER.show(caller); }

PICKER = {
    mouse_inside: false,
    to_hex: function(dec) { hex = dec.toString(16); return hex.length == 2 ? hex : '0' + hex; },
    show: function(caller) {
        var input = $(caller), position = input.offset();

        PICKER.$colors = $('<canvas width="230" height="150" ></canvas>');
        PICKER.$colors.css({ 'position': 'absolute', 'top': position.top + input.height() + 28, 'left': position.left - 148, 'cursor': 'crosshair', 'display': 'none', 'z-index': 10 });
            
		$('body').append(PICKER.$colors.fadeIn());
            
		PICKER.colorctx = PICKER.$colors[0].getContext('2d');
        PICKER.render();

        PICKER.$colors.click(function(e) { 
            PICKER.close(); newColor = PICKER.get_color(e); $(caller).parent().css("backgroundColor", newColor); })
            .hover(function() { PICKER.mouse_inside=true; }, function() { PICKER.mouse_inside=false; });
        
        $('body').mouseup(function() { if (!PICKER.mouse_is_inside) PICKER.close(); });  },

    close: function() { PICKER.$colors.fadeOut(PICKER.$colors.remove); },

    get_color: function(e) {
        var pos_x = e.pageX - PICKER.$colors.offset().left, pos_y = e.pageY - PICKER.$colors.offset().top;
        var data = PICKER.colorctx.getImageData(pos_x, pos_y, 1, 1).data;
        return '#' + PICKER.to_hex(data[0]) + PICKER.to_hex(data[1]) + PICKER.to_hex(data[2]); },

    render: function () {
        var gradient = PICKER.colorctx.createLinearGradient(0, 0, PICKER.$colors.width(), 0);

        gradient.addColorStop(0,    "rgb(255,   0,   0)");
        gradient.addColorStop(0.15, "rgb(255,   0, 255)");
        gradient.addColorStop(0.33, "rgb(0,     0, 255)");
        gradient.addColorStop(0.49, "rgb(0,   255, 255)");
        gradient.addColorStop(0.67, "rgb(0,   255,   0)");
        gradient.addColorStop(0.84, "rgb(255, 255,   0)");
        gradient.addColorStop(1,    "rgb(255,   0,   0)");

        PICKER.colorctx.fillStyle = gradient;
        PICKER.colorctx.fillRect(0, 0, PICKER.colorctx.canvas.width, PICKER.colorctx.canvas.height);

        gradient = PICKER.colorctx.createLinearGradient(0, 0, 0, PICKER.$colors.height());
        gradient.addColorStop(0,   "rgba(255, 255, 255, 1)");
        gradient.addColorStop(0.5, "rgba(255, 255, 255, 0)");
        gradient.addColorStop(0.5, "rgba(0,     0,   0, 0)");
        gradient.addColorStop(1,   "rgba(0,     0,   0, 1)");

        PICKER.colorctx.fillStyle = gradient;
        PICKER.colorctx.fillRect(0, 0, PICKER.colorctx.canvas.width, PICKER.colorctx.canvas.height);  }  };  </script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
<style scoped>
    @-webkit-keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }  
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @-webkit-keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }  
    @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }

    ::placeholder { color: rgb(56, 56, 56); opacity: .75; }
    :-ms-input-placeholder { /* Internet Explorer 10-11 */ color: rgb(56, 56, 56); }
    ::-ms-input-placeholder { /* Microsoft Edge */ color: rgb(56, 56, 56); }

    #tags { padding: 12 12 12 12; margin-left: 24px; box-shadow: rgb(231, 223, 223) 1px 1px; border-radius: 4px; background-color:rgb(239, 243, 247); font-family: Roboto; }

    div.inline { vertical-align: middle; margin: auto auto; display: flex; justify-content: center; align-items: center;
        -webkit-transition: height 0.2s ease; -moz-transition: height 0.2s ease; -o-transition: height 0.2s ease; -ms-transition: height 0.2s ease; transition: height 0.2s ease; }
    
    .icon { width: 14px; height: 14px; z-index: 20; border-radius: 8px; padding: 8px; margin-left: 2px; margin-right: 2px; }
    .icon:hover { cursor: pointer; background-color:rgb(243, 237, 237); }
    
    div.new-tag { border-radius: 5px; border: 0.8px solid rgb(90, 90, 90); box-shadow: 0 0 11px rgba(33,33,33,.2);
        width: 360px; padding: 10px; transition: 0.2s ease-out; background-color: white; box-sizing: border-box; }
    
    input{ display: inline-block; -webkit-animation: fadeIn 0.5s; animation: fadeIn 0.5s; padding: 6px 6px 4px 12px; margin-left: 8px; margin-right: 8px;
        border: 1px solid #EDEDED; border-radius: 4px; transition: 0.2s ease-out; color: darken(#EDEDED, 30%); }
    input:focus { outline: 0; border-color: black; }

    div.icons { margin-right: 12px; display: inline-block; -webkit-animation: fadeIn 0.5s; animation: fadeIn 0.5s; }

    #tags li { border-radius: 5px; border: 0.8px solid rgb(90, 90, 90); box-shadow: 0 0 11px rgba(33,33,33,.2);
        margin: 4px; margin-left: -20px; list-style: none; padding: 4px;
         opacity: 1; justify-content: space-between;}
    
    .tag-tab { width: 18px; margin-right: 10px; }
    .tag-label { font-weight:600; width: 100px; height: 48px; padding-left: 14px; margin-left: 12px; margin-right: 12px; 
        background-image: linear-gradient(to right, rgb(247, 247, 247) , rgba(236, 236, 236, 0.753)); border-radius: 3px 3px 3px 3px; }
    .tag-hidden { display:none!important; }

    .initial-height { height: 60px; }
    .add-height { height: 200px; }

    </style>

<div id="tags">
    <div class="inline"><img class="icon" src="icon/tags.svg" onclick="temptags.select();" title="Show tags"/></div>
    <div class="new-tag inline" >
        <img class="icon" title="Add new tag" onclick="temptags.insert(this, $('#name').val(), newColor);" src="icon/new.svg" />
        <input id="name" type="text" placeholder="Enter tag name..." maxlength="24" />
        <img class="icon" title="Add a color" onclick="changeColor(this, 'item-oid')" src="icon/palette.svg" />
        <img class="icon" title="Write a note" src="icon/sticky-note.svg" /></div>

    <div id="showresults"></div>

    <ul id="item-template" style="display:none;">
        <li id="item-oid" title="item-note" style="background-color:#item-color;" data-sortby='0'>
            <div id="item-oid-tag" class="inline initial-height">
            <div class="tag-tab"><img id="item-oid-order" class="icon" title="Change order" src="icon/bars.svg" draggable='true' ondragstart='drag(event);' /></div>
            <div id="item-oid-label" class="tag-label inline">
                <div id="item-oid-span">item-name</div>
                <input id="item-oid-input" type="text" class="tag-hidden" value="item-name" /></div>
            <div id="item-oid-editor" class="tag-hidden top-to-bottom">
                <img id="item-oid-color" class="icon" title="Change color" onclick="elementColor = $(this).parent().parent(); changeColor(this);" src="icon/palette.svg" /><br/>
                <img id="item-oid-color" class="icon" title="Change note" onclick="elementColor = $(this).parent().parent(); changeColor(this);" src="icon/sticky-note.svg" /><br/>
                <img id="item-oid-delete" class="icon" title="Remove tag" onclick="temptags.delete(this, 'item-oid');" src="icon/trash.svg" /><br/>
                <img id="item-oid-save" class="icon" title="Save changes" onclick="temptags.update('item-oid', $('#item-oid-input').val(), newColor);" src="icon/check.svg" />
                <img id="item-oid-cancel" class="icon" title="Cancel" onclick="cancelUpdate('item-oid');" src="icon/cancel.svg" /></div>
            <div id="item-oid-actions" class="inline" ><img id='item-oid-wrench' class="icon" onclick='refineList("item-oid");' src="icon/edit.svg" /></div></div></li></ul></div>
            <div id="color"></div>

<script type="text/javascript">
var testing;
function data(user, token) {
  this.user = user;
  this.token = token;

  this.service = function (collection, action, query, value) {
    $.ajax({
        url: "http://192.168.1.111:8888/data",
        data: { 
        'user': this.user, 
        'token': this.token,
        'collection': collection,
        'action': action,
        'query': query,
        'value': value }, 
        type: "POST",
        dataType : "json",
        success: function(data) { if (action == "select") { temptags.content = data; temptags.render(); }
            if (action == "insert") { temptags.select(); } },
        error: function(xhr, status) { },
        complete: function(xhr, status) {}});} }

//entry = { "email": email, "password": password }
function tags(user, token) {
    this.data = new data(user, token);
    this.content = "";

    this.select = function(data) {
        this.data.service("tags", "select", "{}", ""); }

    this.insert = function(ref, name) {
        var color = (newColor != undefined) ? newColor.replace('#', '') : $("#"+ref+"-colorx").html();
        this.data.service("tags", "insert", "{'name':'" + name + "', 'color': '" + color + "'}", "");

        $("#name").val("");
        $("#new-tag").css({'background-color':''}); }

    this.update = function(id) {
        var ref = id.replace("-input", "");
        var name = $("#"+ref+"-input").val();
        var color = (newColor != undefined) ? newColor.replace('#', '') : $("#"+ref+"-colorx").html();

        this.data.service("tags", "update", "{'$set':{'name':'" + name + "','color':'" + color + "'}}", id);
        refineList(id);
        setRender = true; }

    this.delete = function(ref, id) {
        this.data.service("tags", "delete", "", id);

        const fade = { opacity: 0, transition: 'opacity 0.5s' };
        $(ref).parent().parent().css(fade).delay(10).slideUp({duration: 500, queue: false}, function() { $(ref).parent().parent().remove(); }); }

    this.sort = function() {
        var temp = 1;
        $('ul#linkedEventList li').each(function(index, element) {
            var li = $(element);
            li.data('sortby', temp);
            temp++; });

        var ul = $('#linkedEventList');
        var li = ul.children('li');
        
        li.detach().sort(function(a,b) { return $(a).data('sortby') - $(b).data('sortby'); });
        ul.append(li); }

    this.render = function () {
        html = "<ul id='linkedEventList' class='itemDelete'>";
        this.content.forEach((item) => { html += $('#item-template').html().replace(/item-name/g, item.name).replace(/item-color/g, item.color).replace(/item-oid/g, item._id.$oid); });
        html += "</ul>";

        $('#showresults').hide().replaceWith($('#showresults').html(html).fadeIn('slow')); } }
    
    var temptags = new tags("matt", "password");

    function refineList(oid) {
        $("#" + oid + "-input").removeClass("tag-hidden"); 
        $("#" + oid + "-span").addClass("tag-hidden");
        $("#" + oid + "-editor").removeClass("tag-hidden"); $("#" + oid + "-tag").addClass("add-height");
        $("#" + oid + "-actions").addClass("tag-hidden"); }

    function cancelUpdate(oid) {
        $("#" + oid + "-tag").removeClass("add-height");
        $("#" + oid + "-input").addClass("tag-hidden"); 
        $("#" + oid + "-span").removeClass("tag-hidden");
        $("#" + oid + "-editor").addClass("tag-hidden"); 
        $("#" + oid + "-actions").removeClass("tag-hidden");
        $("#" + oid).css({'background-color': oldColor}).val(oldColor); }
        
        $(document).ready(function(){ $('#color').load("color.htm"); });
        
        
function allowDrop(ev) {
    ev.preventDefault();
}

function drag(ev) {
    ev.dataTransfer.setData("text", ev.target.id);
}

function drop(ev) {
    ev.preventDefault();
    var data = ev.dataTransfer.getData("text");
    ev.target.appendChild(document.getElementById(data));
}
        </script>

<!--add drag and drop (similar to basket sketch)
    add greyscale to color picker
    add stickers-->

<!-- default data
{	name: "Kate",
	note: "Katsebo",
	color: "000000" }
{	name: "Noah",
	note: "Noah's Ark" }
{	name: "Adam",
	note: "Adam's Adventure" }
{	name: "Matt",
	note: "Matthew Tin" }
{	name: "Vantage" }
{	name: "Household Order" }
{	name: "Vancouver Island" }
{	name: "University" }
{	name: "Tree" }
    
place in user's personal database?-->


